一、环境配置

1.安装torch,torchaudio:
pip3 install torch torchaudio

2.安装funasr:
git clone https://github.com/adrian-wl/FunASR-bm.git
cd FunASR-bm && pip3 install -e ./

3.根据系统架构选择性地安装tpu_perf:
pip3 install tpu_perf-1.2.35-py3-none-manylinux2014_x86_64.whl
或者:
pip3 install tpu_perf-1.2.35-py3-none-manylinux2014_aarch64.whl

二、运行离线语音识别demo

1.获取模型文件bmodel.zip
内部网盘:
https://drive.sophgo.vip/d/s/z0sitKZk8d5ijPZugvPCc3a9v0mMENcq/doWNX1Kg43l0b19ilDMJ6I6uumB9MoFg--rdARIhidgs
百度网盘(提取码:iawb):
https://pan.baidu.com/s/12hdY1Kq6SC-v-Iouwytv1Q


2.将bmodel.zip放在FunASR-bm/目录下, 并解压:
cd FunASR-bm && unzip bmodel.zip

3.运行脚本:
python3 infer.py

infer.py有两个可配置的参数, input_path(语音文件的路径), dev_id(bm1684x的device id)

